(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0245":function(t,e,a){"use strict";var n=a("c023"),s=a.n(n);s.a},5149:function(t,e,a){"use strict";var n=a("90d1"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"page",attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("ThemeSwitch",{staticClass:"page__themeSwitch",attrs:{items:t.themes}})],1),a("div",{staticClass:"page__grid container"},[a("div",{staticClass:"page__content"},[a("PostForm",{staticClass:"page__form",on:{submit:t.onSubmit}}),t.posts.length?t._l(t.sortPosts,(function(t){return a("BasePost",{key:t.id,attrs:{avatar:t.avatar,content:t.content,timestamp:t.timestamp,comments:t.comments,firstName:t.firstName,lastName:t.lastName}})})):[t._v("Посты не найдены")]],2),a("div",{staticClass:"page__aside"},[a("PopularPosts",{attrs:{posts:t.posts}})],1)])])},r=[],o=(a("4e82"),a("5530")),i=(a("96cf"),a("1da1")),c=a("2909"),u=(a("f27b"),function(t,e){var a=t-.5+Math.random()*(e-t+1);return Math.round(a)}),l=(a("4160"),a("c975"),a("b64b"),a("159b"),a("8a77")),m="my-post_",p="my-comment_",d="/images/avatar1.png",f=[{firstName:"Николай",lastName:"Вахитов",avatar:"/images/avatar2.png"},{firstName:"Анастасия",lastName:"Макарова",avatar:"/images/avatar3.png"},{firstName:"Денис",lastName:"Быстров",avatar:"/images/avatar4.png"},{firstName:"Олег",lastName:"Потапов",avatar:"/images/avatar5.png"}],h=["Посмотрите на работу крупных компаний изнутри, познакомитесь с сотрудниками и руководителями. Сможете перенять опыт ведения крупных проектов.","Совместно с консультантом вы определите цели профессионального развития, создадите эффективное резюме и узнаете, как проходить собеседования.","Узнаете основные паттерны поведения пользователей и принципы проектирования интерфейсов на основе этих паттернов.","Круто! Так держать.","Можно узнать подробнее?","Очень интересно","Хотелось бы знать подробности. Можно где-то об этом прочитать? Может быть есть какой-то сайт об этом?","Класс. Всегда интересовала эта тема.","Очень здорово, что поднимаются такие темы.","Хорошие мысли. Как можно с вами связаться, чтобы уточнить подробности данной темы?","Супер. Однозначно, полезная тема.","На самом деле, спорное утверждение.","Вопрос интересный, но информации недостаточно.","Хорошая тема.","Соглашусь с автором.","Да, тема имеет место быть. Не хватает дополнительной информации. Думаю, читатели были бы рады прикрепленной ссылке","Класс. Меня заинтересовало."];function v(){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object.keys(window.localStorage),a={},n=[],e.forEach((function(t){if(0===t.indexOf(m)){var e=JSON.parse(localStorage.getItem(t));a[e.id]=Object(o["a"])({comments:[]},e)}else if(0===t.indexOf(p)){var s=JSON.parse(localStorage.getItem(t));n.push(Object(o["a"])({},s))}})),n.forEach((function(t){a[t.postId]&&a[t.postId].comments.push(t)})),s=[],Object.keys(a).forEach((function(t){s.push(Object(o["a"])({},a[t]))})),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function g(t){return _.apply(this,arguments)}function _(){return _=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(l["a"])(),n={id:a,avatar:d,timestamp:Date.now(),content:e,firstName:"Юрий",lastName:"Долгов",comments:[]},localStorage.setItem("".concat(m).concat(a),JSON.stringify(n)),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function y(t){return C.apply(this,arguments)}function C(){return C=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(l["a"])(),n=f[u(0,f.length-1)],s=Object(o["a"])({id:a,postId:e,timestamp:Date.now(),content:h[u(0,h.length-1)]},n),localStorage.setItem("".concat(p).concat(a),JSON.stringify(s)),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}var O,x,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"postForm",attrs:{method:"post",action:"/"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("BaseTextarea",{staticClass:"postForm__field",attrs:{placeholder:"О чем вы думаете",name:"message"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("BaseButton",{staticClass:"postForm__submit",attrs:{type:"submit"}},[t._v("Поделиться")])],1)},j=[],w={render:function(t){var e=this.$attrs.href?"a":"button",a="baseButton";return t(e,Object(o["a"])(Object(o["a"])({class:Object(o["a"])({baseButton:a},this.mod)},this.$attrs),{},{props:{to:this.to}}),[this.$slots.default])}},S=w,N=(a("6b1f"),a("2877")),k=Object(N["a"])(S,O,x,!1,null,null,null),T=k.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"baseTextarea"},[a("textarea",t._b({staticClass:"baseTextarea__field",style:{height:t.height},attrs:{"aria-label":this.$attrs.placeholder},domProps:{value:t.value},on:{input:t.onInput}},"textarea",Object.assign({},this.$attrs),!1))])},B=[],R={name:"BaseTeaxtarea",props:{value:{type:String,default:""}},data:function(){return{height:void 0}},inheritAttrs:!1,watch:{value:function(t){""===t&&(this.height=void 0)}},methods:{onInput:function(t){var e=this;this.height=void 0,this.$emit("input",t.target.value),this.$nextTick((function(){e.height="".concat(t.target.scrollHeight,"px")}))}}},M=R,A=(a("b113"),Object(N["a"])(M,$,B,!1,null,null,null)),D=A.exports,I={name:"PostForm",components:{BaseButton:T,BaseTextarea:D},data:function(){return{text:""}},methods:{onSubmit:function(){this.text&&(this.$emit("submit",this.text),this.text="")}}},E=I,L=(a("d1ce"),Object(N["a"])(E,P,j,!1,null,null,null)),F=L.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"themeSwitch"},t._l(t.items,(function(e){return a("button",{key:e.code,staticClass:"themeSwitch__item",class:{"themeSwitch__item--active":t.activeCode===e.code},attrs:{type:"button"},on:{click:function(a){return t.onSelect(e.code)}}},[a("span",[t._v(t._s(e.title))])])})),0)},J=[],H={name:"ThemeSwitch",props:{items:{type:Array,required:!0}},data:function(){return{activeCode:this.items.length?this.items[0].code:""}},methods:{onSelect:function(t){document.body.classList.remove("theme-".concat(this.activeCode)),this.activeCode=t,document.body.classList.add("theme-".concat(this.activeCode))}},mounted:function(){document.body.classList.add("theme-".concat(this.activeCode))}},z=H,G=(a("0245"),Object(N["a"])(z,q,J,!1,null,null,null)),Z=G.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"basePost"},[a("div",{staticClass:"basePost__card"},[a("div",{staticClass:"basePost__cardAvatar",style:{"background-image":"url("+t.avatar+")"}},[a("div",{staticClass:"basePost__cardName"},[t._v(" "+t._s(t.firstName)+" "+t._s(t.lastName)+" ")])]),a("div",{staticClass:"basePost__cardContent"},[a("div",{staticClass:"basePost__cardText",domProps:{innerHTML:t._s(t.computedContent)}}),a("div",{staticClass:"basePost__cardDate"},[t._v(" "+t._s(t.getDateCreate(t.timestamp)))])])]),t._l(t.lastComments,(function(e){return a("div",{key:e.id,staticClass:"basePost__card basePost__card--comment"},[a("div",{staticClass:"basePost__cardAvatar",style:{"background-image":"url("+e.avatar+")"}},[a("div",{staticClass:"basePost__cardName"},[t._v(" "+t._s(e.firstName)+" "+t._s(e.lastName)+" ")])]),a("div",{staticClass:"basePost__cardContent"},[a("div",{staticClass:"basePost__cardText",domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"basePost__cardDate"},[t._v(" "+t._s(t.getDateCreate(e.timestamp)))])])])}))],2)},K=[];a("a434"),a("a9e3"),a("ac1f"),a("5319"),a("99af"),a("fb6a");function Q(t){return t<10?String("00".concat(t)).slice(-2):String(t)}var U=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],V=function(t){try{var e=new Date(t);return"".concat(Q(e.getDate())," ").concat(U[e.getMonth()]," ").concat(e.getFullYear()," ").concat(Q(e.getHours()),":").concat(Q(e.getMinutes()),":").concat(Q(e.getSeconds()))}catch(a){return t}},W=V,X={name:"BasePost",props:{avatar:{type:String,required:!0},content:{type:String,required:!0},timestamp:{type:Number,required:!0},comments:{type:Array,default:function(){return[]}},firstName:{type:String,required:!0},lastName:{type:String,required:!0}},computed:{lastComments:function(){return Object(c["a"])(this.comments).sort((function(t,e){return e.timestamp-t.timestamp})).splice(0,3)},computedContent:function(){return this.content.replace(/https?:\/\/(.+?)\/(([a-zA-Z0-9_ \-%\.]*)\.(svg|jpg|png|jpeg|gif))/g,(function(t){return'<img src="'.concat(t,'" alt="ALt" />')}))}},methods:{getDateCreate:function(t){return W(t)}}},tt=X,et=(a("daa0"),Object(N["a"])(tt,Y,K,!1,null,null,null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"popularPosts"},[a("h2",{staticClass:"popularPosts__title"},[t._v("Самые часто обсуждаемые посты")]),t.items.length?t._l(t.items,(function(e){return a("div",{key:e.id,staticClass:"popularPosts__item"},[a("div",{staticClass:"popularPosts__itemCount"},[t._v(" "+t._s(e.count)+" ")]),a("div",{staticClass:"popularPosts__itemContent",domProps:{innerHTML:t._s(e.content)}})])})):[t._v("Посты не найдены")]],2)},st=[],rt=(a("d81d"),{name:"PopularPosts",props:{posts:{type:Array,default:function(){return[]}}},computed:{items:function(){return Object(c["a"])(this.posts).sort((function(t,e){return e.comments.length-t.comments.length})).splice(0,5).map((function(t){var e=t.content.replace(/https?:\/\/(.+?)\/(([a-zA-Z0-9_ \-%\.]*)\.(svg|jpg|png|jpeg|gif))/g,"");return{id:t.id,content:e.length>65?"".concat(e.substring(0,65),"..."):e,count:t.comments.length}}))}}}),ot=rt,it=(a("5149"),Object(N["a"])(ot,nt,st,!1,null,null,null)),ct=it.exports,ut={name:"App",components:{PostForm:F,ThemeSwitch:Z,BasePost:at,PopularPosts:ct},data:function(){return{isLoading:!1,themes:[{title:"Светлая тема",code:"light"},{title:"Темная тема",code:"dark"}],posts:[]}},computed:{sortPosts:function(){return Object(c["a"])(this.posts).sort((function(t,e){return e.timestamp-t.timestamp}))}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t.posts=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),t.posts=[],console.error("Ошибка получения постов");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},methods:{onSubmit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,g(t);case 2:n=a.sent,e.posts.push(n),e.startGenerateComments(n.id,e.posts.length-1);case 5:case"end":return a.stop()}}),a)})))()},startGenerateComments:function(t,e){var a=this,n=u(5,30);setInterval(Object(i["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log(n),s.next=3,y(t);case 3:r=s.sent,a.posts[e].comments.push(Object(o["a"])({},r)),n=u(5,30);case 6:case"end":return s.stop()}}),s)}))),1e3*n)}}},lt=ut,mt=(a("5c0b"),Object(N["a"])(lt,s,r,!1,null,null,null)),pt=mt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(pt)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"6b1f":function(t,e,a){"use strict";var n=a("ec6d"),s=a.n(n);s.a},"90d1":function(t,e,a){},"9c0c":function(t,e,a){},b0d4:function(t,e,a){},b113:function(t,e,a){"use strict";var n=a("b0d4"),s=a.n(n);s.a},c023:function(t,e,a){},cd9d:function(t,e,a){},d1ce:function(t,e,a){"use strict";var n=a("cd9d"),s=a.n(n);s.a},daa0:function(t,e,a){"use strict";var n=a("eb61"),s=a.n(n);s.a},eb61:function(t,e,a){},ec6d:function(t,e,a){},f27b:function(t,e,a){}});
//# sourceMappingURL=app.adf4bcba.js.map